<!DOCTYPE html>
<html>
    <head>
        <script>
            // Function to update the Bitcoin price on the page
            function updatePrice() {
                fetch('/get_bitcoin_price')
                    .then(response => response.json())  // Parse the response as JSON
                    .then(data => {
                        // Update the price displayed on the page
                        document.getElementById('bitcoin-price').textContent = '$' + data.price;
                    })
                    .catch(error => console.error('Error fetching price:', error));
            }
    
            // Call updatePrice every 60 seconds (60000 milliseconds)
            setInterval(updatePrice, 60000);
    
            // Also, run updatePrice once when the page is loaded to show the initial price
            window.onload = updatePrice;
        </script>
    </head>
<body>

<h1>Current bitcoin price: </h1>
<p>The current price of bitcoin is: <span id="bitcoin-price">{{ price }}</span></p>

</body>
</html>